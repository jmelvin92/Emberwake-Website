document.addEventListener('DOMContentLoaded',function(){document.body.classList.add('loaded');const bannerSection=document.querySelector('.hero-video-banner');if(bannerSection){})}const navbar=document.getElementById('navbar');const navToggle=document.getElementById('nav-toggle');const navMenu=document.getElementById('nav-menu');const navLinks=document.querySelectorAll('.nav-link');navToggle.addEventListener('click',function(){navMenu.classList.toggle('active');navToggle.classList.toggle('active')});navLinks.forEach(link=>{link.addEventListener('click',function(){navMenu.classList.remove('active');navToggle.classList.remove('active')})});let lastScrollY=window.scrollY;window.addEventListener('scroll',function(){const currentScrollY=window.scrollY;if(currentScrollY>100){navbar.classList.add('scrolled')}else{navbar.classList.remove('scrolled')}if(currentScrollY>lastScrollY&&currentScrollY>500){navbar.style.transform='translateY(-100%)'}else{navbar.style.transform='translateY(0)'}lastScrollY=currentScrollY});document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener('click',function(e){e.preventDefault();const target=document.querySelector(this.getAttribute('href'));if(target){const offsetTop=target.offsetTop-80;window.scrollTo({top: offsetTop,behavior: 'smooth'})}})});const observerOptions={threshold: 0.1,rootMargin: '0px 0px-50px 0px'};const observer=new IntersectionObserver(function(entries){entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add('fade-in-up')}})},observerOptions);const animateElements=document.querySelectorAll('.media-item,.tour-date,.merch-item,.about-text,.about-image');animateElements.forEach(el=>{observer.observe(el)});const bannerVideo=document.querySelector('.banner-video');const isMobile=window.innerWidth<=768;if(bannerVideo&&!isMobile){bannerVideo.muted=true;bannerVideo.volume=0;bannerVideo.addEventListener('loadstart',()=>{});bannerVideo.addEventListener('canplay',()=>{});bannerVideo.addEventListener('error',(e)=>{console.error('Banner video error:',e);console.error('Video error details:',{error: bannerVideo.error,networkState: bannerVideo.networkState,readyState: bannerVideo.readyState,currentSrc: bannerVideo.currentSrc})});bannerVideo.addEventListener('loadeddata',()=>{});bannerVideo.addEventListener('loadedmetadata',()=>{});).map(s=>s.src));const playVideo=()=>{bannerVideo.play().then(()=>{}).catch(e=>{})};setTimeout(playVideo,100);['click','touchstart','scroll','mousemove'].forEach(event=>{document.addEventListener(event,playVideo,{once: true})});bannerVideo.addEventListener('pause',()=>{bannerVideo.play()})}else{}const heroVideo=document.querySelector('#hero-bg-video');if(heroVideo){heroVideo.muted=true;heroVideo.volume=0;const playVideo=()=>{heroVideo.play().catch(e=>{})};playVideo();['click','touchstart','scroll','mousemove'].forEach(event=>{document.addEventListener(event,playVideo,{once: true})});heroVideo.addEventListener('pause',()=>{heroVideo.play()})}const glitchTitle=document.querySelector('.hero-title.glitch');if(glitchTitle){setInterval(()=>{glitchTitle.style.animation='none';setTimeout(()=>{glitchTitle.style.animation=''},50)},3000)}const heroContent=document.querySelector('.hero-content');if(heroContent){document.addEventListener('mousemove',(e)=>{const x=(e.clientX/window.innerWidth-0.5)*20;const y=(e.clientY/window.innerHeight-0.5)*20;heroContent.style.transform=`translate(${x}px,${y}px)`})}const merchItems=document.querySelectorAll('.merch-item');merchItems.forEach(item=>{const overlay=item.querySelector('.merch-overlay');const button=overlay?.querySelector('.btn');if(button){button.addEventListener('click',function(e){e.preventDefault();showQuickView(item)})}});function showQuickView(merchItem){const title=merchItem.querySelector('.merch-info h4').textContent;const price=merchItem.querySelector('.price').textContent;const modal=document.createElement('div');modal.className='quick-view-modal';modal.innerHTML=`<div class="modal-content"><span class="close-modal">&times;</span><h3>${title}</h3><p class="modal-price">${price}</p><p>This is a placeholder for the quick view. In the full implementation,this would show product details,size options,and add to cart functionality.</p><button class="btn btn-primary">Add to Cart(Coming Soon)</button></div>`;modal.style.cssText=` position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgba(0,0,0,0.8);display: flex;align-items: center;justify-content: center;z-index: 2000;`;const modalContent=modal.querySelector('.modal-content');modalContent.style.cssText=` background: var(--bg-dark);padding: 2rem;border-radius: 8px;max-width: 500px;width: 90%;text-align: center;position: relative;border: 1px solid var(--border-color);`;const closeBtn=modal.querySelector('.close-modal');closeBtn.style.cssText=` position: absolute;top: 10px;right: 15px;font-size: 2rem;cursor: pointer;color: var(--text-light);`;document.body.appendChild(modal);const closeModal=()=>{document.body.removeChild(modal)};closeBtn.addEventListener('click',closeModal);modal.addEventListener('click',function(e){if(e.target===modal){closeModal()}});document.addEventListener('keydown',function(e){if(e.key==='Escape'){closeModal()}},{once: true})}const animateOnScroll=()=>{const elements=document.querySelectorAll('.tour-date,.merch-item,.media-item');const observer=new IntersectionObserver((entries)=>{entries.forEach((entry,index)=>{if(entry.isIntersecting){setTimeout(()=>{entry.target.style.opacity='1';entry.target.style.transform='translateX(0)scale(1)'},index*100)}})},{threshold: 0.1});elements.forEach(el=>{el.style.opacity='0';el.style.transform='translateX(-50px)scale(0.9)';el.style.transition='all 0.6s cubic-bezier(0.4,0,0.2,1)';observer.observe(el)})};animateOnScroll();const mysticalLines=document.querySelectorAll('.mystical-text-line');let mysticalScrollFrame=null;const animateMysticalText=()=>{const scrolled=window.pageYOffset;const windowHeight=window.innerHeight;const triggerPoints=[ windowHeight*0.5,windowHeight*1.2,windowHeight*1.8,windowHeight*2.4,windowHeight*3.0 ];mysticalLines.forEach((line,index)=>{if(scrolled>=triggerPoints[index]){if(!line.classList.contains('visible')){line.classList.remove('fading');line.classList.add('visible')}}else{if(!line.classList.contains('fading')){line.classList.add('fading');line.classList.remove('visible')}}});mysticalScrollFrame=null};window.addEventListener('scroll',()=>{if(!mysticalScrollFrame&&!window.pauseMysticalAnimation){mysticalScrollFrame=requestAnimationFrame(animateMysticalText)}});animateMysticalText();const ticketButtons=document.querySelectorAll('.tour-date .btn');ticketButtons.forEach(button=>{button.addEventListener('click',function(e){e.preventDefault();alert('Ticket purchasing will be integrated with a ticketing platform like Eventbrite or Bandsintown.')})});const platformLinks=document.querySelectorAll('.platform-link');platformLinks.forEach(link=>{link.addEventListener('click',function(){const platform=this.querySelector('span').textContent})});function createNewsletterSignup(){const footer=document.querySelector('.footer-content');const newsletterDiv=document.createElement('div');newsletterDiv.className='newsletter-signup';newsletterDiv.innerHTML=`<h4>Stay Updated</h4><form class="newsletter-form"><input type="email" placeholder="Enter your email" required><button type="submit" class="btn btn-primary">Subscribe</button></form>`;newsletterDiv.style.cssText=` text-align: center;grid-column: 1/-1;margin-top: 2rem;padding-top: 2rem;border-top: 1px solid var(--border-color);`;const form=newsletterDiv.querySelector('.newsletter-form');form.style.cssText=` display: flex;gap: 1rem;justify-content: center;margin-top: 1rem;flex-wrap: wrap;`;const input=form.querySelector('input');input.style.cssText=` padding: 10px 15px;background: rgba(255,255,255,0.1);border: 1px solid var(--border-color);color: var(--text-light);border-radius: 4px;min-width: 250px;`;footer.appendChild(newsletterDiv);form.addEventListener('submit',function(e){e.preventDefault();const email=input.value;alert(`Thank you for subscribing!We'll send updates to ${email}`);input.value=''})}createNewsletterSignup();const cursor=document.createElement('div');cursor.className='custom-cursor';document.body.appendChild(cursor);let cursorX=0,cursorY=0;let currentX=0,currentY=0;document.addEventListener('mousemove',(e)=>{cursorX=e.clientX;cursorY=e.clientY});function animateCursor(){currentX+=(cursorX-currentX)*0.1;currentY+=(cursorY-currentY)*0.1;cursor.style.left=currentX+'px';cursor.style.top=currentY+'px';requestAnimationFrame(animateCursor)}animateCursor();document.querySelectorAll('a,button').forEach(el=>{el.addEventListener('mouseenter',()=>{cursor.style.transform='scale(1.5)';cursor.style.background='var(--primary-color)'});el.addEventListener('mouseleave',()=>{cursor.style.transform='scale(1)';cursor.style.background='var(--primary-glow)'})});class HyperPong{constructor(){this.canvas=document.getElementById('pong-canvas');if(!this.canvas){console.error('Canvas element not found!');return}this.ctx=this.canvas.getContext('2d');if(!this.ctx){console.error('Could not get canvas context!');return}this.gameContainer=document.getElementById('pong-game-container');this.playerScoreEl=document.querySelector('.player-score');this.aiScoreEl=document.querySelector('.ai-score');this.comboCountEl=document.querySelector('.combo-count');this.comboDisplayEl=document.querySelector('.combo-display');this.speedFillEl=document.querySelector('.speed-fill');this.isRunning=false;this.isPaused=false;this.playerScore=0;this.aiScore=0;this.combo=0;this.maxCombo=0;this.speedMultiplier=1;this.performanceMode='auto';this.maxParticles=15;this.maxTrailLength=10;this.backgroundVideos=[];this.backgroundAnimations=[];this.ball={x: 0,y: 0,vx: 0,vy: 0,radius: 8,speed: 5,trail: [],lastX: 0,lastY: 0};this.playerPaddle={x: 30,y: 0,width: 15,height: 100,speed: 8,glowIntensity: 0};this.aiPaddle={x: 0,y: 0,width: 15,height: 100,speed: 6,difficulty: 0.7};this.particles=[];this.screenShake=0;this.glitchIntensity=0;this.keys={};this.frameCount=0;this.initEventListeners()}initEventListeners(){const navLogo=document.querySelector('.nav-logo');const navLogoImg=document.querySelector('.nav-logo img');const startPongGame=(e)=>{e.preventDefault();e.stopPropagation();this.startGame()};if(navLogo){navLogo.addEventListener('click',startPongGame);navLogo.style.cursor='pointer'}if(navLogoImg){navLogoImg.addEventListener('click',startPongGame);navLogoImg.style.cursor='pointer'}const closeBtn=document.querySelector('.pong-close');if(closeBtn){closeBtn.addEventListener('click',()=>{this.endGame()})}const overlay=document.querySelector('.pong-overlay');if(overlay){overlay.addEventListener('click',()=>{this.endGame()})}window.addEventListener('keydown',(e)=>{const key=e.key.toLowerCase();this.keys[key]=true;if(e.key==='ArrowUp')this.keys['arrowup']=true;if(e.key==='ArrowDown')this.keys['arrowdown']=true;if(e.key==='Escape'){this.endGame()}if(e.key===' '&&this.isRunning){e.preventDefault();this.togglePause()}});window.addEventListener('keyup',(e)=>{const key=e.key.toLowerCase();this.keys[key]=false;if(e.key==='ArrowUp')this.keys['arrowup']=false;if(e.key==='ArrowDown')this.keys['arrowdown']=false})}startGame(){this.gameContainer.classList.add('active');this.isRunning=true;this.isPaused=false;this.pauseBackgroundElements();this.detectPerformanceMode();setTimeout(()=>{this.resizeCanvas();this.resetGame();this.ctx.imageSmoothingEnabled=false;window.addEventListener('resize',()=>this.resizeCanvas());this.gameLoop()},100)}pauseBackgroundElements(){const videos=document.querySelectorAll('video');videos.forEach((video,index)=>{try{if(!video.paused){this.backgroundVideos.push({element: video,wasPlaying: true,volume: video.volume})}video.pause();video.muted=true;video.volume=0;video.removeAttribute('autoplay')}catch(e){console.error(`Failed to pause video ${index}:`,e)}});const cursor=document.querySelector('.custom-cursor');if(cursor){this.originalCursorDisplay=cursor.style.display;cursor.style.display='none'}window.pauseMysticalAnimation=true;const glitchTitle=document.querySelector('.hero-title.glitch');if(glitchTitle){glitchTitle.style.animation='none'}const iframes=document.querySelectorAll('iframe');iframes.forEach(iframe=>{try{iframe.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}','*')}catch(e){}})}resumeBackgroundElements(){this.backgroundVideos.forEach(videoInfo=>{try{const video=videoInfo.element;video.setAttribute('autoplay','');video.muted=true;video.volume=videoInfo.volume||0;if(videoInfo.wasPlaying){video.play().catch(e=>)}}catch(e){console.error('Failed to resume video:',e)}});this.backgroundVideos=[];const cursor=document.querySelector('.custom-cursor');if(cursor&&this.originalCursorDisplay!==undefined){cursor.style.display=this.originalCursorDisplay||'block'}window.pauseMysticalAnimation=false;const glitchTitle=document.querySelector('.hero-title.glitch');if(glitchTitle){glitchTitle.style.animation=''}}detectPerformanceMode(){const testStart=performance.now();this.ctx.fillStyle='#000';for(let i=0;i<100;i++){this.ctx.fillRect(Math.random()*100,Math.random()*100,10,10)}const testTime=performance.now()-testStart;if(testTime>10){this.performanceMode='performance';this.maxParticles=10;this.maxTrailLength=5}else{this.performanceMode='quality';this.maxParticles=20;this.maxTrailLength=10}}endGame(){this.gameContainer.classList.remove('active');this.isRunning=false;this.keys={};this.resumeBackgroundElements()}togglePause(){this.isPaused=!this.isPaused}resetGame(){this.playerScore=0;this.aiScore=0;this.combo=0;this.speedMultiplier=1;this.updateUI();this.resetBall();this.playerPaddle.y=this.canvas.height/2-this.playerPaddle.height/2;this.aiPaddle.y=this.canvas.height/2-this.aiPaddle.height/2;this.particles=[];this.screenShake=0}resetBall(){this.ball.x=this.canvas.width/2;this.ball.y=this.canvas.height/2;const direction=Math.random()>0.5 ? 1 :-1;this.ball.vx=direction*this.ball.speed;this.ball.vy=(Math.random()-0.5)*this.ball.speed*0.5;this.ball.trail=[]}resizeCanvas(){this.canvas.width=860;this.canvas.height=400;this.ctx.imageSmoothingEnabled=false;this.ctx.globalAlpha=1;this.aiPaddle.x=this.canvas.width-45}update(){if(this.isPaused)return;if(this.keys['w']||this.keys['arrowup']){this.playerPaddle.y=Math.max(0,this.playerPaddle.y-this.playerPaddle.speed);this.playerPaddle.glowIntensity=Math.min(1,this.playerPaddle.glowIntensity+0.1)}else if(this.keys['s']||this.keys['arrowdown']){this.playerPaddle.y=Math.min(this.canvas.height-this.playerPaddle.height,this.playerPaddle.y+this.playerPaddle.speed);this.playerPaddle.glowIntensity=Math.min(1,this.playerPaddle.glowIntensity+0.1)}else{this.playerPaddle.glowIntensity=Math.max(0,this.playerPaddle.glowIntensity-0.05)}this.updateAI();this.updateBall();this.updateParticles();this.screenShake=Math.max(0,this.screenShake-0.5);this.glitchIntensity=Math.max(0,this.glitchIntensity-0.02)}updateAI(){const targetY=this.ball.y-this.aiPaddle.height/2;const diff=targetY-this.aiPaddle.y;const imperfection=(1-this.aiPaddle.difficulty)*50;const adjustedTarget=targetY+(Math.random()-0.5)*imperfection;if(Math.abs(diff)>5){const moveSpeed=this.aiPaddle.speed*this.aiPaddle.difficulty;if(diff>0){this.aiPaddle.y=Math.min(this.canvas.height-this.aiPaddle.height,this.aiPaddle.y+moveSpeed)}else{this.aiPaddle.y=Math.max(0,this.aiPaddle.y-moveSpeed)}}}updateBall(){const distance=Math.sqrt(Math.pow(this.ball.x-this.ball.lastX,2)+Math.pow(this.ball.y-this.ball.lastY,2));if(distance>2){this.ball.trail.push({x: this.ball.x,y: this.ball.y,opacity: 1});this.ball.lastX=this.ball.x;this.ball.lastY=this.ball.y}if(this.ball.trail.length>this.maxTrailLength){this.ball.trail.shift()}this.ball.trail.forEach(point=>{point.opacity-=this.performanceMode==='performance' ? 0.1 : 0.05});this.ball.x+=this.ball.vx*this.speedMultiplier;this.ball.y+=this.ball.vy*this.speedMultiplier;if(this.ball.y-this.ball.radius<=0||this.ball.y+this.ball.radius>=this.canvas.height){this.ball.vy=-this.ball.vy;this.createImpactEffect(this.ball.x,this.ball.y,0.5)}this.checkPaddleCollision();if(this.ball.x<0){this.aiScore++;this.combo=0;this.screenShake=15;this.createExplosion(this.ball.x,this.ball.y,'#ff0000');this.resetBall();this.updateUI()}else if(this.ball.x>this.canvas.width){this.playerScore++;this.combo=0;this.screenShake=15;this.createExplosion(this.ball.x,this.ball.y,'#00ff00');this.resetBall();this.updateUI()}}checkPaddleCollision(){if(this.ball.x-this.ball.radius<=this.playerPaddle.x+this.playerPaddle.width&&this.ball.x+this.ball.radius>=this.playerPaddle.x&&this.ball.y>=this.playerPaddle.y&&this.ball.y<=this.playerPaddle.y+this.playerPaddle.height){if(this.ball.vx<0){this.ball.vx=-this.ball.vx*1.05;this.combo++;this.onPaddleHit(this.playerPaddle)}}if(this.ball.x+this.ball.radius>=this.aiPaddle.x&&this.ball.x-this.ball.radius<=this.aiPaddle.x+this.aiPaddle.width&&this.ball.y>=this.aiPaddle.y&&this.ball.y<=this.aiPaddle.y+this.aiPaddle.height){if(this.ball.vx>0){this.ball.vx=-this.ball.vx*1.05;this.onPaddleHit(this.aiPaddle)}}}onPaddleHit(paddle){const relativeIntersectY=(paddle.y+paddle.height/2)-this.ball.y;const normalizedRelativeIntersectionY=relativeIntersectY/(paddle.height/2);const bounceAngle=normalizedRelativeIntersectionY*Math.PI/4;this.ball.vy=this.ball.speed*-Math.sin(bounceAngle);this.screenShake=8+this.combo*2;this.glitchIntensity=0.3+this.combo*0.1;this.createImpactEffect(this.ball.x,this.ball.y,1+this.combo*0.2);this.speedMultiplier=Math.min(3,1+this.combo*0.1);this.aiPaddle.difficulty=Math.min(0.95,0.7+this.combo*0.02);this.updateUI()}createImpactEffect(x,y,intensity){if(this.performanceMode==='performance'&&this.particles.length>5)return;const particleCount=Math.floor(this.performanceMode==='performance' ? 3*intensity : 6*intensity);for(let i=0;i<particleCount;i++){const angle=(Math.PI*2/particleCount)*i;const speed=2+Math.random()*3*intensity;this.particles.push({x: x,y: y,vx: Math.cos(angle)*speed,vy: Math.sin(angle)*speed,life: 1,color: `hsl(${Math.random()*60},100%,50%)`})}}createExplosion(x,y,color){const particleCount=this.performanceMode==='performance' ? 8 : 15;for(let i=0;i<particleCount;i++){const angle=Math.random()*Math.PI*2;const speed=1+Math.random()*5;this.particles.push({x: x,y: y,vx: Math.cos(angle)*speed,vy: Math.sin(angle)*speed,life: 1,color: color})}}updateParticles(){if(this.particles.length>this.maxParticles){this.particles=this.particles.slice(-this.maxParticles)}this.particles=this.particles.filter(particle=>{particle.x+=particle.vx;particle.y+=particle.vy;particle.vx*=0.96;particle.vy*=0.96;particle.life-=this.performanceMode==='performance' ? 0.06 : 0.04;if(particle.x<-10||particle.x>this.canvas.width+10||particle.y<-10||particle.y>this.canvas.height+10){return false}return particle.life>0})}updateUI(){this.playerScoreEl.textContent=this.playerScore;this.aiScoreEl.textContent=this.aiScore;this.comboCountEl.textContent=this.combo;if(this.combo>0){this.comboDisplayEl.classList.add('active')}else{this.comboDisplayEl.classList.remove('active')}const speedPercent=Math.min(100,(this.speedMultiplier-1)*50);this.speedFillEl.style.width=`${20+speedPercent*0.8}%`}render(){if(!this.ctx){console.error('No canvas context in render!');return}this.ctx.fillStyle='#0a0a0a';this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height);if(this.screenShake>0){this.ctx.save();this.ctx.translate((Math.random()-0.5)*this.screenShake,(Math.random()-0.5)*this.screenShake)}if(this.performanceMode==='quality'&&this.glitchIntensity>0&&Math.random()<this.glitchIntensity){this.ctx.fillStyle=`rgba(255,0,0,${this.glitchIntensity*0.1})`;this.ctx.fillRect(0,Math.random()*this.canvas.height,this.canvas.width,2)}this.ctx.strokeStyle='rgba(255,255,255,0.1)';this.ctx.lineWidth=2;this.ctx.setLineDash([10,10]);this.ctx.beginPath();this.ctx.moveTo(this.canvas.width/2,0);this.ctx.lineTo(this.canvas.width/2,this.canvas.height);this.ctx.stroke();this.ctx.setLineDash([]);this.ball.trail.forEach((point,index)=>{if(point.opacity>0){this.ctx.fillStyle=`rgba(255,102,0,${point.opacity*0.5})`;this.ctx.beginPath();this.ctx.arc(point.x,point.y,this.ball.radius*(index/this.ball.trail.length),0,Math.PI*2);this.ctx.fill()}});this.ctx.fillStyle='#ffffff';this.ctx.beginPath();this.ctx.arc(this.ball.x,this.ball.y,this.ball.radius,0,Math.PI*2);this.ctx.fill();if(this.performanceMode==='quality'){this.ctx.strokeStyle='#ff6600';this.ctx.lineWidth=3;this.ctx.beginPath();this.ctx.arc(this.ball.x,this.ball.y,this.ball.radius+5,0,Math.PI*2);this.ctx.stroke()}this.drawPaddle(this.playerPaddle,'#ff3333');this.drawPaddle(this.aiPaddle,'#ff6600');this.particles.forEach(particle=>{this.ctx.fillStyle=particle.color||'#ff3333';this.ctx.globalAlpha=particle.life;this.ctx.fillRect(particle.x-2,particle.y-2,4,4);this.ctx.globalAlpha=1});if(this.screenShake>0){this.ctx.restore()}}drawPaddle(paddle,color){this.ctx.fillStyle=color;this.ctx.fillRect(paddle.x,paddle.y,paddle.width,paddle.height);this.ctx.fillStyle='#ffffff';this.ctx.fillRect(paddle.x+4,paddle.y+4,paddle.width-8,paddle.height-8)}gameLoop(){if(!this.isRunning){return}this.update();this.render();setTimeout(()=>{requestAnimationFrame(()=>this.gameLoop())},33)}}setTimeout(()=>{const hyperPong=new HyperPong()},100)});